// ARRAY OF 50 PET OBJECTS;
const pets = [
  {
    name: "Whiskers",
    id: 1,
    emoji: "ğŸ±",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Forever chasing mice in kitty paradise.",
  },
  {
    name: "Sunny",
    id: 2,
    emoji: "ğŸ¦§",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Brought warmth to our hearts.",
  },
  {
    name: "Bubbles",
    id: 3,
    emoji: "ğŸ¦®",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Popped into our lives and left bubbles of joy.",
  },
  {
    name: "Cocoa",
    id: 4,
    emoji: "ğŸ•â€ğŸ¦º",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Sweet as chocolate, forever in our hearts.",
  },
  {
    name: "Rocket",
    id: 5,
    emoji: "ğŸ¦Œ",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Zoomed through life with boundless energy.",
  },
  {
    name: "Luna",
    id: 6,
    emoji: "ğŸ®",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Lit up our nights and left a trail of stardust.",
  },
  {
    name: "Olive",
    id: 7,
    emoji: "ğŸ‡",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A little olive, a lot of love.",
  },
  {
    name: "Thunder",
    id: 8,
    emoji: "ğŸ•",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Thunderous paws, gentle heart.",
  },
  {
    name: "Mochi",
    id: 8,
    emoji: "ğŸ°",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Soft as mochi, sweet as memories.",
  },
  {
    name: "Jazz",
    id: 10,
    emoji: "ğŸ’",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Played the melody of love in our hearts.",
  },
  {
    name: "Pebbles",
    id: 11,
    emoji: "ğŸ¶",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A rock in our lives, forever missed.",
  },
  {
    name: "Echo",
    id: 12,
    emoji: "ğŸ¥",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Whispering memories of joy.",
  },
  {
    name: "Maple",
    id: 13,
    emoji: "ğŸ¦©",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Fell from the tree of our lives, leaving golden memories.",
  },
  {
    name: "Noodle",
    id: 14,
    emoji: "ğŸ¦",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Slithered into our hearts, forever coiled in love.",
  },
  {
    name: "Gizmo",
    id: 15,
    emoji: "ğŸ¦‰",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Pressed the buttons of happiness in our lives.",
  },
  {
    name: "Peach",
    id: 16,
    emoji: "ğŸ…",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Juicy memories, ripe with love.",
  },
  {
    name: "Zephyr",
    id: 17,
    emoji: "ğŸ©",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A gentle breeze that swept away into eternity.",
  },
  {
    name: "Pixel",
    id: 18,
    emoji: "ğŸ¦„",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A pixel in our heartscape, forever bright.",
  },
  {
    name: "Truffle",
    id: 19,
    emoji: "ğŸ¹",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Dark and sweet, like the memories you left behind.",
  },
  {
    name: "Phoenix",
    id: 20,
    emoji: "ğŸ™",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Rose from the ashes of joy, a fiery companion.",
  },
  {
    name: "Nimbus",
    id: 21,
    emoji: "ğŸ³",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Floated into the clouds, leaving a sky full of memories.",
  },
  {
    name: "Poppy",
    id: 22,
    emoji: "ğŸ¡",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Blossomed in our lives, forever in bloom.",
  },
  {
    name: "Jigsaw",
    id: 23,
    emoji: "ğŸ¢",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A piece of our hearts, forever missing.",
  },
  {
    name: "Zen",
    id: 24,
    emoji: "ğŸ¦†",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Found peace in the serenity of our love.",
  },
  {
    name: "Sable",
    id: 25,
    emoji: "ğŸ¨",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Dug deep into our hearts, leaving paw prints of love.",
  },
  {
    name: "Cosmo",
    id: 26,
    emoji: "ğŸ¦Š",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Rocketed into our world, now among the stars.",
  },
  {
    name: "Cinnamon",
    id: 27,
    emoji: "ğŸˆ",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Sprinkled warmth and sweetness into our lives.",
  },
  {
    name: "Neptune",
    id: 28,
    emoji: "ğŸˆâ€â¬›",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Sailed away into the sea of memories.",
  },
  {
    name: "Ziggy",
    id: 29,
    emoji: "ğŸ•",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Painted our lives with vibrant colors of joy.",
  },
  {
    name: "Mango",
    id: 30,
    emoji: "ğŸ¦",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Ripe with love, forever in our hearts.",
  },
  {
    name: "Ripple",
    id: 31,
    emoji: "ğŸ¦“",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Created waves of happiness that echo in our hearts.",
  },
  {
    name: "Daisy",
    id: 32,
    emoji: "ğŸ",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "In the garden of memories, forever in bloom.",
  },
  {
    name: "Frodo",
    id: 33,
    emoji: "ğŸ«",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Embarked on an epic journey, leaving paw prints in our hearts.",
  },
  {
    name: "Twix",
    id: 34,
    emoji: "ğŸ¦",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A treat of joy in our lives, forever missed.",
  },
  {
    name: "Galaxy",
    id: 35,
    emoji: "ğŸ¼",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Sparkled in our universe, now a constellation of memories.",
  },
  {
    name: "Tinkerbell",
    id: 36,
    emoji: "ğŸ§",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Spread magic and pixie dust, now flying among the stars.",
  },
  {
    name: "Basil",
    id: 37,
    emoji: "ğŸ¦š",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Seasoned our lives with love, forever fresh in our hearts.",
  },
  {
    name: "Stormy",
    id: 38,
    emoji: "ğŸŸ",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Rained love upon us, now a gentle drizzle of memories.",
  },
  {
    name: "Snickers",
    id: 39,
    emoji: "ğŸ»â€â„ï¸",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A sweet laugh in our lives, forever echoing.",
  },
  {
    name: "Nova",
    id: 40,
    emoji: "ğŸ¬",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A bright star in our constellation of memories.",
  },
  {
    name: "Harmony",
    id: 41,
    emoji: "ğŸ¦œ",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Played the symphony of joy in our hearts.",
  },
  {
    name: "Bolt",
    id: 42,
    emoji: "ğŸ¦«",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Struck our hearts with lightning love.",
  },
  {
    name: "Waffles",
    id: 43,
    emoji: "ğŸ˜",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A breakfast of joy, forever on our hearts' menu.",
  },
  {
    name: "Athena",
    id: 44,
    emoji: "ğŸ¦¢",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Wise as an owl, forever watching over us.",
  },
  {
    name: "S'mores",
    id: 45,
    emoji: "ğŸ¿ï¸",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Melted our hearts with sweetness, now a warm memory.",
  },
  {
    name: "Coral",
    id: 46,
    emoji: "ğŸ ",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Swam into our hearts, leaving a coral reef of memories.",
  },
  {
    name: "Thunderbolt",
    id: 47,
    emoji: "ğŸ¦ƒ",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A lightning strike of love, forever electrifying.",
  },
  {
    name: "Pumpkin",
    id: 48,
    emoji: "ğŸ¦’",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "Carved a place in our hearts, forever autumn.",
  },
  {
    name: "Breeze",
    id: 49,
    emoji: "ğŸ·",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A gentle breeze that rustled through our memories.",
  },
  {
    name: "Panda",
    id: 50,
    emoji: "ğŸ¼",
    hunger: 0,
    love: 100,
    alive: true,
    epitaph: "A black and white bundle of joy, forever bamboo-zled us.",
  },
];

// GENERATE RANDOM OBJECT
let randomObj;
function randomObject() {
  let randomIndex = Math.floor(Math.random() * 50);
  randomObj = pets[randomIndex];
  return randomObj;
}

let endGame;
let isAlive = true;
// RENDER SAME PET OBJECT EVERY 30 SECS
function render() {
  randomObject();
  const mainContainer = document.querySelector("#main-container");
  // create container for each pet details
  const petContainer = document.createElement("div");
  petContainer.id = "pet-container";
  // petContainer.className = "alive";
  mainContainer.appendChild(petContainer);
  // create emoji
  const emojiDiv = document.createElement("div");
  emojiDiv.id = "emoji";
  emojiDiv.className = "";
  emojiDiv.textContent = `${randomObj.emoji}`;
  petContainer.appendChild(emojiDiv);
  // creating heading for pet name
  const heading = document.createElement("h3");
  heading.textContent = `${randomObj.name}`;
  petContainer.appendChild(heading);
  // create hunger label
  const labelHunger = document.createElement("p");
  labelHunger.className = "hungerText";
  labelHunger.textContent = "Hunger:";
  petContainer.appendChild(labelHunger);
  // create meter hunger bar
  const hungerDiv = document.createElement("div");
  hungerDiv.classList = "meter-bar";
  petContainer.appendChild(hungerDiv);
  const hungerMeter = document.createElement("div");
  hungerMeter.className = "hungry";
  hungerMeter.style.width = "0px";
  hungerDiv.appendChild(hungerMeter);
  // create love label
  const labelLove = document.createElement("p");
  labelLove.className = "loveText";
  labelLove.textContent = "Love:";
  petContainer.appendChild(labelLove);
  // create meter love bar
  const loveDiv = document.createElement("div");
  loveDiv.classList = "meter-bar";
  petContainer.appendChild(loveDiv);
  const loveMeter = document.createElement("div");
  loveMeter.className = "love";
  loveDiv.appendChild(loveMeter);
  //  create feed me button
  const button = document.createElement("button");
  button.innerText = "Feed me ğŸ";
  petContainer.appendChild(button);
  document.querySelector("button");

  const epitaph = document.createElement("p");
  epitaph.style.color = "white";
  epitaph.textContent = `"${randomObj.epitaph}"`;

  document.querySelector("#emoji");
  emojiDiv.addEventListener("mouseover", function () {
    console.log("hover");
    emojiDiv.style.cursor =
      'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="pink" width="28" height="28"><path d="M12 21.35l-1.45-1.32C5.4 14.25 2 11.25 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C16.09 3.81 17.76 3 19.5 3 22.58 3 25 5.42 25 8.5c0 2.75-3.4 5.75-8.55 11.54L12 21.35z"/></svg>\') 12 12, auto';
  });

  let epitaphAdded = false;
  function updatePetStatus() {
    if ((hunger === 100 || love === 0) && !isAlive && !epitaphAdded) {
      petContainer.classList.add("died");
      emojiDiv.classList.add("emoji-died");
      labelHunger.style.display = "none";
      hungerDiv.style.display = "none";
      hungerMeter.style.display = "none";
      labelLove.style.display = "none";
      loveDiv.style.display = "none";
      loveMeter.style.display = "none";
      button.style.display = "none";
      petContainer.appendChild(epitaph);
      epitaphAdded = true;
    }
  }

  // function to run hunger and love meters
  let hunger = 0;
  let interval = setInterval(function () {
    button.addEventListener("click", function () {
      hunger = 0;
    });
    hunger = hunger + 1;
    if (hunger === 100) {
      clearInterval(interval);

      isAlive = false;
      updatePetStatus();
    }
    hungerMeter.style.width = `${hunger}px`;
  }, 1000);

  let love = 100;
  setInterval(function () {
    emojiDiv.addEventListener("click", function () {
      love = 101;
    });
    love = love - 1;
    if (love === 0) {
      clearInterval(interval);

      isAlive = false;
      updatePetStatus();
    }
    loveMeter.style.width = `${love}px`;
  }, 1000);
}

render();

endGame = setInterval(function () {
  if (!isAlive) {
    clearInterval(endGame);
  } else {
    render();
  }
}, 30000);
